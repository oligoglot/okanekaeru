<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Okane Kaeru - Currency Transfer Optimizer</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 24px;
        }
        .logo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            margin-bottom: 8px;
            cursor: help;
        }
        .photo-credit {
            font-size: 0.65rem;
            color: rgba(255,255,255,0.5);
            margin-bottom: 12px;
            font-style: italic;
        }
        .photo-credit a {
            color: rgba(255,255,255,0.6);
            text-decoration: none;
        }
        .photo-credit a:hover {
            color: white;
            text-decoration: underline;
        }
        h1 {
            color: white;
            text-align: center;
            margin-bottom: 4px;
            font-size: 2rem;
        }
        .japanese-name {
            color: rgba(255,255,255,0.9);
            font-size: 1.1rem;
            margin-bottom: 8px;
        }
        .subtitle {
            color: rgba(255,255,255,0.7);
            text-align: center;
            margin-bottom: 0;
            font-size: 0.95rem;
        }
        .card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        .card h2 {
            color: #333;
            margin-bottom: 16px;
            font-size: 1.3rem;
        }
        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }
        input, select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1.1rem;
            margin-bottom: 16px;
        }
        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }
        .currency-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 12px;
        }
        .two-col {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        .currency-row > div, .two-col > div {
            display: flex;
            flex-direction: column;
        }
        button {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }
        button:hover {
            transform: translateY(-2px);
        }
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        .rates {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        .rate-box {
            background: #f5f5f5;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }
        .rate-box .label {
            font-size: 0.8rem;
            color: #666;
        }
        .rate-box .value {
            font-size: 1.1rem;
            font-weight: 700;
            color: #333;
        }
        .result {
            padding: 20px;
            border-radius: 12px;
            margin-top: 16px;
        }
        .result.winner {
            background: #e8f5e9;
            border: 2px solid #4caf50;
        }
        .result.loser {
            background: #fafafa;
            border: 2px solid #e0e0e0;
        }
        .result h3 {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }
        .result.winner h3 {
            color: #2e7d32;
        }
        .result.loser h3 {
            color: #666;
        }
        .result .amount {
            font-size: 1.5rem;
            font-weight: 700;
        }
        .result.winner .amount {
            color: #2e7d32;
        }
        .result .detail {
            font-size: 0.9rem;
            color: #666;
            margin-top: 4px;
        }
        .badge {
            background: #4caf50;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
        }
        .difference {
            text-align: center;
            padding: 16px;
            background: #fff3e0;
            border-radius: 8px;
            margin-top: 16px;
        }
        .difference .value {
            font-size: 1.3rem;
            font-weight: 700;
            color: #e65100;
        }
        .error {
            background: #ffebee;
            color: #c62828;
            padding: 12px;
            border-radius: 8px;
            margin-top: 16px;
        }
        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }
        .timestamp {
            text-align: center;
            font-size: 0.8rem;
            color: #999;
            margin-top: 12px;
        }
        .explanation {
            background: #e3f2fd;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            color: #1565c0;
        }
        
        /* Chart styles */
        .chart-container {
            position: relative;
            height: 200px;
            margin: 20px 0;
        }
        .chart {
            width: 100%;
            height: 100%;
        }
        .chart-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
            font-size: 0.85rem;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        
        /* Trend indicators */
        .trend {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        .trend.up {
            background: #e8f5e9;
            color: #2e7d32;
        }
        .trend.down {
            background: #ffebee;
            color: #c62828;
        }
        .trend.stable {
            background: #f5f5f5;
            color: #666;
        }
        
        /* Schedule table */
        .schedule-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 16px;
            font-size: 0.9rem;
        }
        .schedule-table th, .schedule-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        .schedule-table th {
            background: #f5f5f5;
            font-weight: 600;
            color: #333;
        }
        .schedule-table tr:last-child td {
            border-bottom: none;
        }
        .schedule-table .highlight {
            background: #e8f5e9;
        }
        .schedule-summary {
            background: #e3f2fd;
            padding: 16px;
            border-radius: 8px;
            margin-top: 16px;
        }
        .schedule-summary h4 {
            margin-bottom: 8px;
            color: #1565c0;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
        }
        .tab {
            flex: 1;
            padding: 12px;
            background: #f0f0f0;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            color: #666;
        }
        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .tab:hover:not(.active) {
            background: #e0e0e0;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        
        .disclaimer {
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 16px;
            margin-top: 20px;
            font-size: 0.8rem;
            color: rgba(255,255,255,0.7);
            line-height: 1.5;
        }
        .disclaimer strong {
            color: rgba(255,255,255,0.9);
        }
        
        @media (max-width: 600px) {
            .currency-row, .two-col {
                grid-template-columns: 1fr;
            }
            .rates {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo-container">
            <img src="DSCN5107.JPG" alt="Norhayati's Flying Frog" class="logo" title="Norhayati's Flying Frog (Rhacophorus norhayatii) · Photographed in Kuala Lumpur by Sundar Lakshmanan">
            <div class="photo-credit">Norhayati's Flying Frog · Photo: <a href="https://www.instagram.com/p/CDii9DbABaI/" target="_blank" rel="noopener">Sundar Lakshmanan</a></div>
            <h1>Okane Kaeru</h1>
            <div class="japanese-name">お金カエル</div>
            <p class="subtitle">Compare rates & plan your currency transfers</p>
        </div>
        
        <div class="card">
            <div class="explanation">
                Compare sending money <strong>directly</strong> vs via an <strong>intermediate</strong> currency, and plan transfers based on historical trends.
            </div>
            
            <div class="currency-row">
                <div>
                    <label for="source">Source</label>
                    <select id="source"></select>
                </div>
                <div>
                    <label for="intermediate">Intermediate</label>
                    <select id="intermediate"></select>
                </div>
                <div>
                    <label for="target">Target</label>
                    <select id="target"></select>
                </div>
            </div>
            
            <div class="two-col">
                <div>
                    <label for="amount">Total Amount</label>
                    <input type="number" id="amount" value="15000000" placeholder="Enter amount">
                </div>
                <div>
                    <label for="transferCap">Transfer Cap (in intermediate currency)</label>
                    <input type="number" id="transferCap" value="10000" placeholder="e.g., 10000">
                </div>
            </div>
            
            <div class="two-col">
                <div>
                    <label for="spreadDays">Spread over (days)</label>
                    <input type="number" id="spreadDays" value="30" min="1" max="90" placeholder="e.g., 30">
                </div>
                <div>
                    <label for="historyDays">Analyze history (days)</label>
                    <input type="number" id="historyDays" value="30" min="7" max="90" placeholder="e.g., 30">
                </div>
            </div>
            
            <button id="analyze" onclick="analyze()">Analyze & Plan Transfers</button>
        </div>

        <div id="results"></div>
        
        <div class="disclaimer">
            <strong>Disclaimer:</strong> This tool is for informational purposes only and does not constitute financial advice. Exchange rates shown are mid-market rates and may differ from actual rates offered by banks and transfer services, which include spreads, fees, and other charges. Always verify rates with your financial institution before making transfers. The authors assume no responsibility for any financial decisions made based on this tool.
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
